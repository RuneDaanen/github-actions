name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€

on: [push, pull_request]

jobs:
  deployProduction:
    if: github.ref_name != 'main'
    strategy:
      matrix:
        target: [prod]
    uses: ./.github/workflows/FE-build.yml
    with:
      target: ${{ matrix.target }}

  deployStaging:
    if: github.ref_name != 'staging'
    strategy:
      matrix:
        target: [dev, stage]
    uses: ./.github/workflows/FE-build.yml
    with:
      target: ${{ matrix.target }}